plugins {
	id "com.github.johnrengelman.shadow" version "8.1.1" apply false
}

subprojects {
	apply plugin: "java"
	apply plugin: "com.github.johnrengelman.shadow"

	group project.maven_group
	version "${rootProject.properties.mod_version}+${rootProject.properties.minecraft_version}"

	configurations {
		shadowImplementation
		implementation.extendsFrom shadowImplementation
	}

	dependencies {
		implementation 'com.google.code.findbugs:jsr305:3.0.2'
		shadowImplementation "org.mtr:Minecraft-Mappings-common:0.0.1"
	}

	repositories {
		flatDir { dirs "../libs" }
	}

	shadowJar {
		minimize()
		configurations = [project.configurations.shadowImplementation]
		enableRelocation = true
		relocationPrefix = "com.lx862.jcm.libraries"
	}
}